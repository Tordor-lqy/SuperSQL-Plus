import{_ as w,u as $,r as d,o as v,c as g,a as t,w as p,v as m,b as S,s as P,p as x,e as D,x as M,y as F,f as N,g as V,F as C,h as j,z,t as A}from"./index-DyMfYp_t.js";import{P as B}from"./Pagination-D7nwpCrS.js";const b=a=>(x("data-v-9bdb8dd4"),a=a(),D(),a),E={key:0,class:"overlay"},L={class:"dialog-box"},R=b(()=>t("h2",null,"添加新鉴权",-1)),T={class:"input-group"},q=b(()=>t("label",{for:"auth_name"},"鉴权名称",-1)),G={class:"input-group"},H=b(()=>t("label",{for:"auth_key"},"鉴权秘钥",-1)),J={class:"input-group"},K=b(()=>t("label",{for:"a"},"鉴权算法",-1)),O={__name:"AddAuthDialog",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(a){const i=$(a,"modelValue"),e=d({authentication_secretkey:null,authentication_algorithm:null,authentication_name:null}),n=()=>{i.value=!1},_=async()=>{await P(e.value),n(),window.location.reload()};return(h,l)=>i.value?(v(),g("div",E,[t("div",L,[t("button",{class:"close-button",onClick:n},"×"),R,t("div",T,[q,p(t("input",{type:"text",id:"auth_name","onUpdate:modelValue":l[0]||(l[0]=o=>e.value.authentication_name=o)},null,512),[[m,e.value.authentication_name]])]),t("div",G,[H,p(t("input",{type:"text",id:"auth_key","onUpdate:modelValue":l[1]||(l[1]=o=>e.value.authentication_secretkey=o)},null,512),[[m,e.value.authentication_secretkey]])]),t("div",J,[K,p(t("input",{type:"text",id:"a","onUpdate:modelValue":l[2]||(l[2]=o=>e.value.authentication_algorithm=o)},null,512),[[m,e.value.authentication_algorithm]])]),t("div",{class:"dialog-buttons"},[t("button",{type:"button",class:"cancel-button",onClick:n}," Cancel "),t("button",{type:"submit",class:"submit-button",onClick:_}," Submit ")])])])):S("",!0)}},Q=w(O,[["__scopeId","data-v-9bdb8dd4"]]),y=a=>(x("data-v-673023e2"),a=a(),D(),a),W={key:0,class:"overlay"},X={class:"dialog-box"},Y=y(()=>t("h2",null,"更新鉴权",-1)),Z={class:"input-group"},tt=y(()=>t("label",{for:"auth_name"},"鉴权名称",-1)),et={class:"input-group"},at=y(()=>t("label",{for:"auth_key"},"鉴权秘钥",-1)),ot={class:"input-group"},lt=y(()=>t("label",{for:"a"},"鉴权算法",-1)),st={__name:"UpdateAuthDialog",props:{modelValue:{},modelModifiers:{},form:{},formModifiers:{}},emits:["update:modelValue","update:form"],setup(a){const i=$(a,"modelValue"),e=$(a,"form"),n=()=>{i.value=!1},_=async()=>{await M(e.value.authentication_id,e.value),n(),window.location.reload()},h=async()=>{await F(e.value.authentication_id),n(),window.location.reload()};return(l,o)=>i.value?(v(),g("div",W,[t("div",X,[t("button",{class:"close-button",onClick:n},"×"),Y,t("div",Z,[tt,p(t("input",{type:"text",id:"auth_name","onUpdate:modelValue":o[0]||(o[0]=c=>e.value.authentication_name=c)},null,512),[[m,e.value.authentication_name]])]),t("div",et,[at,p(t("input",{type:"text",id:"auth_key","onUpdate:modelValue":o[1]||(o[1]=c=>e.value.authentication_secretkey=c)},null,512),[[m,e.value.authentication_secretkey]])]),t("div",ot,[lt,p(t("input",{type:"text",id:"a","onUpdate:modelValue":o[2]||(o[2]=c=>e.value.authentication_algorithm=c)},null,512),[[m,e.value.authentication_algorithm]])]),t("div",{class:"dialog-buttons"},[t("button",{type:"button",class:"cancel-button",onClick:n}," Cancel "),t("button",{type:"button",class:"del-button",onClick:h}," Delete "),t("button",{type:"submit",class:"submit-button",onClick:_}," Submit ")])])])):S("",!0)}},nt=w(st,[["__scopeId","data-v-673023e2"]]),U=a=>(x("data-v-79e51c16"),a=a(),D(),a),it={class:"data-com"},ut={class:"main-content"},dt=U(()=>t("h1",null,"鉴权",-1)),ct={style:{width:"680px",height:"480px",overflow:"hidden"}},rt={class:"projects"},_t=["onClick"],pt=U(()=>t("div",{style:{"font-size":"12px",color:"gray"}},"鉴权组名称",-1)),mt=U(()=>t("div",{style:{"font-size":"12px",color:"gray"}},"鉴权秘钥",-1)),ht={__name:"auth",setup(a){N();const i=d(!1),e=()=>{i.value=!0},n=d([]),_=d(100),h=d(8),l=d(1),o=async()=>{const r=await z(l.value,h.value);n.value=r.data.data.records,_.value=r.data.data.total};o();const c=r=>{l.value=r,o()},f=d({}),k=d(!1),I=r=>{f.value=r,k.value=!0};return(r,u)=>(v(),g(C,null,[V(Q,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=s=>i.value=s)},null,8,["modelValue"]),V(nt,{modelValue:k.value,"onUpdate:modelValue":u[1]||(u[1]=s=>k.value=s),form:f.value,"onUpdate:form":u[2]||(u[2]=s=>f.value=s)},null,8,["modelValue","form"]),t("div",it,[t("main",ut,[t("header",{class:"main-header"},[dt,t("button",{onClick:e},"+ 新增鉴权组")]),t("div",ct,[t("div",rt,[(v(!0),g(C,null,j(n.value,s=>(v(),g("div",{key:s.db_id,class:"project",onClick:vt=>I(s)},[pt,t("div",null,A(s.authentication_name),1),mt,t("div",null,A(s.authentication_secretkey),1)],8,_t))),128))])])]),V(B,{class:"pagination","total-items":_.value,"items-per-page":h.value,"current-page":l.value,"onUpdate:currentPage":u[3]||(u[3]=s=>l.value=s),"onUpdate:modelValue":c},null,8,["total-items","items-per-page","current-page"])])],64))}},yt=w(ht,[["__scopeId","data-v-79e51c16"]]);export{yt as default};
